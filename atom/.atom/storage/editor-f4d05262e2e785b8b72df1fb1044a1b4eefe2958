{"mode":"editor","version":1,"windowDimensions":{"x":25,"y":22,"width":1957,"height":1418},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/usr/local/Library/Formula","buffers":[{"text":"require 'formula'\n\nclass Cassandra < Formula\n  homepage 'http://cassandra.apache.org'\n  url 'http://www.apache.org/dyn/closer.cgi?path=/cassandra/2.0.8/apache-cassandra-2.0.8-bin.tar.gz'\n  sha1 'b5368c4b260e1d24b2bcbae3b97fd3eec966d68e'\n\n  def install\n    (var+\"lib/cassandra\").mkpath\n    (var+\"log/cassandra\").mkpath\n    (etc+\"cassandra\").mkpath\n\n    inreplace \"conf/cassandra.yaml\", \"/var/lib/cassandra\", \"#{var}/lib/cassandra\"\n    inreplace \"conf/log4j-server.properties\", \"/var/log/cassandra\", \"#{var}/log/cassandra\"\n    inreplace \"conf/cassandra-env.sh\", \"/lib/\", \"/\"\n\n    inreplace \"bin/cassandra.in.sh\" do |s|\n      s.gsub! \"CASSANDRA_HOME=\\\"`dirname \\\"$0\\\"`/..\\\"\", \"CASSANDRA_HOME=\\\"#{prefix}\\\"\"\n      # Store configs in etc, outside of keg\n      s.gsub! \"CASSANDRA_CONF=\\\"$CASSANDRA_HOME/conf\\\"\", \"CASSANDRA_CONF=\\\"#{etc}/cassandra\\\"\"\n      # Jars installed to prefix, no longer in a lib folder\n      s.gsub! \"\\\"$CASSANDRA_HOME\\\"/lib/*.jar\", \"\\\"$CASSANDRA_HOME\\\"/*.jar\"\n      # The jammm Java agent is not in a lib/ subdir either:\n      s.gsub! \"JAVA_AGENT=\\\"$JAVA_AGENT -javaagent:$CASSANDRA_HOME/lib/jamm-\", \"JAVA_AGENT=\\\"$JAVA_AGENT -javaagent:$CASSANDRA_HOME/jamm-\"\n    end\n\n    rm Dir[\"bin/*.bat\"]\n\n    (etc+\"cassandra\").install Dir[\"conf/*\"]\n    prefix.install Dir[\"*.txt\", \"{bin,interface,javadoc,pylib,lib/licenses}\"]\n    prefix.install Dir[\"lib/*.jar\"]\n\n    share.install [bin+'cassandra.in.sh', bin+'stop-server']\n    inreplace Dir[\"#{bin}/cassandra*\", \"#{bin}/debug-cql\",\n                  \"#{bin}/json2sstable\", \"#{bin}/nodetool\",\n                  \"#{bin}/sstable*\"],\n      /`dirname \"?\\$0\"?`\\/cassandra.in.sh/,\n      \"#{share}/cassandra.in.sh\"\n  end\n\n  def caveats; <<-EOS.undent\n    If you plan to use the CQL shell (cqlsh), you will need the Python CQL library\n    installed. Since Homebrew prefers using pip for Python packages, you can\n    install that using:\n\n      pip install cql\n    EOS\n  end\n\n  def plist; <<-EOS.undent\n    <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n    <plist version=\"1.0\">\n      <dict>\n        <key>KeepAlive</key>\n        <true/>\n\n        <key>Label</key>\n        <string>#{plist_name}</string>\n\n        <key>ProgramArguments</key>\n        <array>\n            <string>#{opt_bin}/cassandra</string>\n            <string>-f</string>\n        </array>\n\n        <key>RunAtLoad</key>\n        <true/>\n\n        <key>WorkingDirectory</key>\n        <string>#{var}/lib/cassandra</string>\n      </dict>\n    </plist>\n    EOS\n  end\nend\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":3843},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/usr/local/Library/Formula/cassandra.rb","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"56d1bc98db969aaad921c5c380c889ed1fe28951","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"items":[{"id":3843,"softTabs":true,"displayBuffer":{"id":3844,"softWrap":false,"editorWidthInChars":173,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/usr/local/Library/Formula/cassandra.rb","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/usr/local/Library/Formula/cassandra.rb","focused":true,"active":true,"deserializer":"Pane"},"deserializer":"PaneContainer"},"fullScreen":false,"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/usr/local/Library/Formula/cassandra.rb":1401828891634},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":49035},"tree-view":{"directoryExpansionStates":{},"selectedPath":"/usr/local/Library/Formula/cassandra.rb","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}