{"mode":"editor","version":1,"windowDimensions":{"x":284,"y":44,"width":1893,"height":1370},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/Users/tra/src/battleschool","buffers":[{"text":"#!/bin/bash\n. test/integration/helper\n\nsetup () {\nmkdir -p \"$ts_test_dir\"\n}\n\n#\n# usage\n#\n\ntest_ender_input_updates_load_and_supply_as_per_input_stream () {\nsetup_topology <<DOC\nnodes:\n  a:\n    type: MeteredLocation\n    point:\n      latitude: 40.0\n      longitude: -105.0\nDOC\n\ninputs=\"$ts_test_dir/inputs\"\ncat > \"$inputs\" <<DOC\nload   a $(ttime 1) 1\nsupply a $(ttime 1) 2\nshow   a load,supply\nload   a $(ttime 2) 3\nsupply a $(ttime 2) 4\nshow   a load,supply\nDOC\n\nender input < \"$inputs\" | grep -E '^(load|supply) ' | assert_output \"\\\nload a $(ttime 1) 1\nsupply a $(ttime 1) 2\nload a $(ttime 2) 3\nsupply a $(ttime 2) 4\n\"\n}\n\ntest_ender_input_outputs_loads_deltas_per_input_stream () {\n  setup_topology <<DOC\nnodes:\n  a:\n    type: MeteredLocation\n    point:\n      latitude: 40.0\n      longitude: -105.0\nDOC\n\n  inputs=\"$ts_test_dir/inputs\"\n  grep -v \"^#\" > \"$inputs\" <<DOC\nload   a $(ttime 1) 1\nsupply a $(ttime 1) 2\ntick   $(ttime 1)\nload   a $(ttime 2) 3\ntick   $(ttime 2)\ntick   $(ttime 3)\n# too long without a load so no load_delta should be output\nsupply a $(ttime 3) 5\ntick   $(ttime 4)\nDOC\n\n  ender input --load-delta-period 2 < \"$inputs\" | grep -E 'load_delta ' | assert_output \"\\\nload_delta a $(ttime 1) 1\nload_delta a $(ttime 2) -1\n\"\n}\n\n#\n# -h,--help\n#\n\ntest_ender_input_h_prints_help () {\nender input -h | grep -q 'usage: ender input'\n}\n\ntest_ender_input_help_prints_help () {\nender input --help | grep -q 'usage: ender input'\n}\n\n. ts\n","markers":{"markers":{"1":{"id":1,"range":[[12,15],[12,17]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":47,"autoscroll":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/tra/src/battleschool/ender/test/integration/ender-input","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"6d98cf70de726a317719a1546d17f106c3bf5a68","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":47,"softTabs":true,"displayBuffer":{"id":48,"softWrap":false,"editorWidthInChars":167,"scrollTop":36,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/tra/src/battleschool/ender/test/integration/ender-input","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Users/tra/src/battleschool/ender/test/integration/ender-input","focused":true,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-shellscript"],"deserializer":"Workspace"},"packageStates":{"find-and-replace":{"projectViewState":{"findHistory":["EOF","<<E","<<"],"replaceHistory":[],"pathsHistory":[],"modelState":{"useRegex":false,"caseSensitive":false}},"resultsModelState":{"useRegex":false,"caseSensitive":false}},"fuzzy-finder":{"/Users/tra/src/battleschool/ender/test/integration/ender-input":1406736224027},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":91711641},"tree-view":{"directoryExpansionStates":{},"selectedPath":"/Users/tra/src/battleschool/ender","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}